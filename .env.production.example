# =============================================================================
# PRODUCTION ON UBUNTU SERVER LAPTOP (Environment B)
# Copy to /opt/gooverchat/.env on the server (or .env.production).
# Never commit this file with real values. Use docker compose env_file or export.
# =============================================================================

NODE_ENV=production
# Public URL: LAN IP for Mode 1, or https://yourdomain.com for Mode 2
NEXT_PUBLIC_APP_URL=http://YOUR_SERVER_LAN_IP:3000
# Or with reverse proxy + HTTPS:
# NEXT_PUBLIC_APP_URL=https://gooverchat.yourdomain.com

# Database: use service name "postgres" when running in Docker
DATABASE_URL=postgresql://gooverchat:STRONG_PASSWORD_HERE@postgres:5432/gooverchat
DIRECT_URL=postgresql://gooverchat:STRONG_PASSWORD_HERE@postgres:5432/gooverchat

# Redis: use service name "redis" in Docker
REDIS_URL=redis://redis:6379/0

# Generate with: openssl rand -base64 32 (use different values)
JWT_ACCESS_SECRET=your-production-access-secret-min-32-chars
JWT_REFRESH_SECRET=your-production-refresh-secret-min-32-chars
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# CORS: your app URL only (comma-separated if multiple)
CORS_ORIGINS=http://YOUR_SERVER_LAN_IP:3000
# Or: CORS_ORIGINS=https://gooverchat.yourdomain.com
# Required when deployed over HTTPS. Cookies will have Secure flag in production.
COOKIE_SECURE=true

# Optional: Postgres vars for docker-compose.prod.yml
POSTGRES_USER=gooverchat
POSTGRES_PASSWORD=STRONG_PASSWORD_HERE
POSTGRES_DB=gooverchat

# Optional: S3/MinIO in prod (or leave empty to skip uploads)
# S3_ENDPOINT=
# S3_BUCKET=
# SOCKET_IO_REDIS_URL=redis://redis:6379/1

LOG_LEVEL=info

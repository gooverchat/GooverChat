# =============================================================================
# GooverChat Environment Variables (reference for all possible variables)
# - Local dev (main laptop):  copy .env.local.example to .env.local
# - Production (server):      copy .env.production.example to .env on server
# Never commit .env, .env.local, or .env.production with real secrets.
# =============================================================================

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
# Base URL of the app (e.g. https://gooverchat.example.com)
NEXT_PUBLIC_APP_URL=http://localhost:3000
# Node environment: development | production | test
NODE_ENV=development

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
# Full connection URL for Prisma. Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://gooverchat:changeme@localhost:5432/gooverchat
# Optional: direct URL for migrations (no connection pooling)
DIRECT_URL=postgresql://gooverchat:changeme@localhost:5432/gooverchat

# -----------------------------------------------------------------------------
# Redis (cache, pub/sub, rate limiting)
# -----------------------------------------------------------------------------
# Redis connection URL. Format: redis://[:password@]host:port[/db]
REDIS_URL=redis://localhost:6379/0

# -----------------------------------------------------------------------------
# Authentication (JWT)
# -----------------------------------------------------------------------------
# Secret for signing access tokens. Use a long random string (e.g. openssl rand -base64 32)
JWT_ACCESS_SECRET=your-access-secret-min-32-chars
# Secret for signing refresh tokens. Use a different long random string
JWT_REFRESH_SECRET=your-refresh-secret-min-32-chars
# Access token expiry (e.g. 15m, 1h)
JWT_ACCESS_EXPIRES_IN=15m
# Refresh token expiry (e.g. 7d, 30d)
JWT_REFRESH_EXPIRES_IN=7d

# -----------------------------------------------------------------------------
# Email (for verification and password reset)
# -----------------------------------------------------------------------------
# SMTP host (e.g. smtp.sendgrid.net, smtp.mailgun.org)
SMTP_HOST=
# SMTP port (usually 587 for TLS)
SMTP_PORT=587
# SMTP user (if required)
SMTP_USER=
# SMTP password
SMTP_PASSWORD=
# From address for outgoing emails
SMTP_FROM=noreply@gooverchat.example.com
# If true, skip sending email (e.g. log to console in dev)
SMTP_SKIP_SEND=false

# -----------------------------------------------------------------------------
# File storage (S3-compatible: MinIO locally, AWS S3 in prod)
# -----------------------------------------------------------------------------
# S3 endpoint (MinIO: http://localhost:9000; AWS: leave empty or use region endpoint)
S3_ENDPOINT=http://localhost:9000
# S3 region (e.g. us-east-1 for AWS)
S3_REGION=us-east-1
# S3 bucket name for uploads
S3_BUCKET=gooverchat-uploads
# Access key ID
S3_ACCESS_KEY_ID=minioadmin
# Secret access key
S3_SECRET_ACCESS_KEY=minioadmin
# Use path-style URLs (required for MinIO)
S3_FORCE_PATH_STYLE=true
# Public base URL for served files (e.g. https://cdn.example.com/bucket)
NEXT_PUBLIC_UPLOAD_URL=http://localhost:9000/gooverchat-uploads

# -----------------------------------------------------------------------------
# Web Push (notifications)
# -----------------------------------------------------------------------------
# VAPID public key (from web-push generate-vapid-keys)
NEXT_PUBLIC_VAPID_PUBLIC_KEY=
# VAPID private key (keep secret)
VAPID_PRIVATE_KEY=

# -----------------------------------------------------------------------------
# Security & CORS
# -----------------------------------------------------------------------------
# Allowed origins for CORS (comma-separated). In prod use your domain only.
CORS_ORIGINS=http://localhost:3000,https://gooverchat.example.com
# Cookie domain (e.g. .gooverchat.example.com for subdomains; leave empty for same-origin)
COOKIE_DOMAIN=
# Secure cookies (true in production with HTTPS)
COOKIE_SECURE=false

# -----------------------------------------------------------------------------
# Rate limiting
# -----------------------------------------------------------------------------
# Max requests per window for auth endpoints
RATE_LIMIT_AUTH_MAX=10
# Window in seconds
RATE_LIMIT_AUTH_WINDOW=60
# Max messages per user per minute
RATE_LIMIT_MESSAGE_MAX=60
RATE_LIMIT_MESSAGE_WINDOW=60

# -----------------------------------------------------------------------------
# Realtime (Socket.IO)
# -----------------------------------------------------------------------------
# Port for custom server (Next.js + Socket.IO). Set when using custom server.
SERVER_PORT=3000
# Redis URL for Socket.IO adapter (multi-instance). Same as REDIS_URL if single instance.
SOCKET_IO_REDIS_URL=redis://localhost:6379/1

# -----------------------------------------------------------------------------
# Observability
# -----------------------------------------------------------------------------
# Log level: debug | info | warn | error
LOG_LEVEL=info
